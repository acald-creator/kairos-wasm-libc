// Copyright (c) 2015-2016 Nuxi, https://nuxi.nl/
//
// SPDX-License-Identifier: BSD-2-Clause

#include <assert.h>
#include <wctype.h>

#include "wctype_impl.h"

wint_t towupper(wint_t wc) {
  static const uint32_t extents[] = {
      0x00030819, 0x0005a800, 0x00070016, 0x0007c006, 0x0007f800, 0x00080800,
      0x00081800, 0x00082800, 0x00083800, 0x00084800, 0x00085800, 0x00086800,
      0x00087800, 0x00088800, 0x00089800, 0x0008a800, 0x0008b800, 0x0008c800,
      0x0008d800, 0x0008e800, 0x0008f800, 0x00090800, 0x00091800, 0x00092800,
      0x00093800, 0x00094800, 0x00095800, 0x00096800, 0x00097800, 0x00098800,
      0x00099800, 0x0009a800, 0x0009b800, 0x0009d000, 0x0009e000, 0x0009f000,
      0x000a0000, 0x000a1000, 0x000a2000, 0x000a3000, 0x000a4000, 0x000a5800,
      0x000a6800, 0x000a7800, 0x000a8800, 0x000a9800, 0x000aa800, 0x000ab800,
      0x000ac800, 0x000ad800, 0x000ae800, 0x000af800, 0x000b0800, 0x000b1800,
      0x000b2800, 0x000b3800, 0x000b4800, 0x000b5800, 0x000b6800, 0x000b7800,
      0x000b8800, 0x000b9800, 0x000ba800, 0x000bb800, 0x000bd000, 0x000be000,
      0x000bf000, 0x000bf800, 0x000c0000, 0x000c1800, 0x000c2800, 0x000c4000,
      0x000c6000, 0x000c9000, 0x000ca800, 0x000cc800, 0x000cd000, 0x000cf000,
      0x000d0800, 0x000d1800, 0x000d2800, 0x000d4000, 0x000d6800, 0x000d8000,
      0x000da000, 0x000db000, 0x000dc800, 0x000de800, 0x000df800, 0x000e2800,
      0x000e3000, 0x000e4000, 0x000e4800, 0x000e5800, 0x000e6000, 0x000e7000,
      0x000e8000, 0x000e9000, 0x000ea000, 0x000eb000, 0x000ec000, 0x000ed000,
      0x000ee000, 0x000ee800, 0x000ef800, 0x000f0800, 0x000f1800, 0x000f2800,
      0x000f3800, 0x000f4800, 0x000f5800, 0x000f6800, 0x000f7800, 0x000f9000,
      0x000f9800, 0x000fa800, 0x000fc800, 0x000fd800, 0x000fe800, 0x000ff800,
      0x00100800, 0x00101800, 0x00102800, 0x00103800, 0x00104800, 0x00105800,
      0x00106800, 0x00107800, 0x00108800, 0x00109800, 0x0010a800, 0x0010b800,
      0x0010c800, 0x0010d800, 0x0010e800, 0x0010f800, 0x00111800, 0x00112800,
      0x00113800, 0x00114800, 0x00115800, 0x00116800, 0x00117800, 0x00118800,
      0x00119800, 0x0011e000, 0x0011f801, 0x00121000, 0x00123800, 0x00124800,
      0x00125800, 0x00126800, 0x00127800, 0x00128000, 0x00128800, 0x00129000,
      0x00129800, 0x0012a000, 0x0012b001, 0x0012c800, 0x0012d800, 0x0012e000,
      0x00130000, 0x00130800, 0x00131800, 0x00132800, 0x00133000, 0x00134000,
      0x00134800, 0x00135000, 0x00135800, 0x00136000, 0x00137800, 0x00138800,
      0x00139000, 0x0013a800, 0x0013e800, 0x00140000, 0x00141800, 0x00143800,
      0x00144000, 0x00144800, 0x00145001, 0x00146000, 0x00149000, 0x0014e800,
      0x0014f000, 0x001a2800, 0x001b8800, 0x001b9800, 0x001bb800, 0x001bd802,
      0x001d6000, 0x001d6802, 0x001d8810, 0x001e1000, 0x001e1808, 0x001e6000,
      0x001e6801, 0x001e8000, 0x001e8800, 0x001ea800, 0x001eb000, 0x001eb800,
      0x001ec800, 0x001ed800, 0x001ee800, 0x001ef800, 0x001f0800, 0x001f1800,
      0x001f2800, 0x001f3800, 0x001f4800, 0x001f5800, 0x001f6800, 0x001f7800,
      0x001f8000, 0x001f8800, 0x001f9000, 0x001f9800, 0x001fa800, 0x001fc000,
      0x001fd800, 0x0021801f, 0x0022800f, 0x00230800, 0x00231800, 0x00232800,
      0x00233800, 0x00234800, 0x00235800, 0x00236800, 0x00237800, 0x00238800,
      0x00239800, 0x0023a800, 0x0023b800, 0x0023c800, 0x0023d800, 0x0023e800,
      0x0023f800, 0x00240800, 0x00245800, 0x00246800, 0x00247800, 0x00248800,
      0x00249800, 0x0024a800, 0x0024b800, 0x0024c800, 0x0024d800, 0x0024e800,
      0x0024f800, 0x00250800, 0x00251800, 0x00252800, 0x00253800, 0x00254800,
      0x00255800, 0x00256800, 0x00257800, 0x00258800, 0x00259800, 0x0025a800,
      0x0025b800, 0x0025c800, 0x0025d800, 0x0025e800, 0x0025f800, 0x00261000,
      0x00262000, 0x00263000, 0x00264000, 0x00265000, 0x00266000, 0x00267000,
      0x00267800, 0x00268800, 0x00269800, 0x0026a800, 0x0026b800, 0x0026c800,
      0x0026d800, 0x0026e800, 0x0026f800, 0x00270800, 0x00271800, 0x00272800,
      0x00273800, 0x00274800, 0x00275800, 0x00276800, 0x00277800, 0x00278800,
      0x00279800, 0x0027a800, 0x0027b800, 0x0027c800, 0x0027d800, 0x0027e800,
      0x0027f800, 0x00280800, 0x00281800, 0x00282800, 0x00283800, 0x00284800,
      0x00285800, 0x00286800, 0x00287800, 0x00288800, 0x00289800, 0x0028a800,
      0x0028b800, 0x0028c800, 0x0028d800, 0x0028e800, 0x0028f800, 0x00290800,
      0x00291800, 0x00292800, 0x00293800, 0x00294800, 0x00295800, 0x00296800,
      0x00297800, 0x002b0825, 0x009fc005, 0x00e40000, 0x00e40800, 0x00e41000,
      0x00e41801, 0x00e42800, 0x00e43000, 0x00e43800, 0x00e44000, 0x00ebc800,
      0x00ebe800, 0x00f00800, 0x00f01800, 0x00f02800, 0x00f03800, 0x00f04800,
      0x00f05800, 0x00f06800, 0x00f07800, 0x00f08800, 0x00f09800, 0x00f0a800,
      0x00f0b800, 0x00f0c800, 0x00f0d800, 0x00f0e800, 0x00f0f800, 0x00f10800,
      0x00f11800, 0x00f12800, 0x00f13800, 0x00f14800, 0x00f15800, 0x00f16800,
      0x00f17800, 0x00f18800, 0x00f19800, 0x00f1a800, 0x00f1b800, 0x00f1c800,
      0x00f1d800, 0x00f1e800, 0x00f1f800, 0x00f20800, 0x00f21800, 0x00f22800,
      0x00f23800, 0x00f24800, 0x00f25800, 0x00f26800, 0x00f27800, 0x00f28800,
      0x00f29800, 0x00f2a800, 0x00f2b800, 0x00f2c800, 0x00f2d800, 0x00f2e800,
      0x00f2f800, 0x00f30800, 0x00f31800, 0x00f32800, 0x00f33800, 0x00f34800,
      0x00f35800, 0x00f36800, 0x00f37800, 0x00f38800, 0x00f39800, 0x00f3a800,
      0x00f3b800, 0x00f3c800, 0x00f3d800, 0x00f3e800, 0x00f3f800, 0x00f40800,
      0x00f41800, 0x00f42800, 0x00f43800, 0x00f44800, 0x00f45800, 0x00f46800,
      0x00f47800, 0x00f48800, 0x00f49800, 0x00f4a800, 0x00f4d800, 0x00f50800,
      0x00f51800, 0x00f52800, 0x00f53800, 0x00f54800, 0x00f55800, 0x00f56800,
      0x00f57800, 0x00f58800, 0x00f59800, 0x00f5a800, 0x00f5b800, 0x00f5c800,
      0x00f5d800, 0x00f5e800, 0x00f5f800, 0x00f60800, 0x00f61800, 0x00f62800,
      0x00f63800, 0x00f64800, 0x00f65800, 0x00f66800, 0x00f67800, 0x00f68800,
      0x00f69800, 0x00f6a800, 0x00f6b800, 0x00f6c800, 0x00f6d800, 0x00f6e800,
      0x00f6f800, 0x00f70800, 0x00f71800, 0x00f72800, 0x00f73800, 0x00f74800,
      0x00f75800, 0x00f76800, 0x00f77800, 0x00f78800, 0x00f79800, 0x00f7a800,
      0x00f7b800, 0x00f7c800, 0x00f7d800, 0x00f7e800, 0x00f7f800, 0x00f80007,
      0x00f88005, 0x00f90007, 0x00f98007, 0x00fa0005, 0x00fa8800, 0x00fa9800,
      0x00faa800, 0x00fab800, 0x00fb0007, 0x00fb8001, 0x00fb9003, 0x00fbb001,
      0x00fbc001, 0x00fbd001, 0x00fbe001, 0x00fc0007, 0x00fc8007, 0x00fd0007,
      0x00fd8001, 0x00fd9800, 0x00fdf000, 0x00fe1800, 0x00fe8001, 0x00ff0001,
      0x00ff2800, 0x00ff9800, 0x010a7000, 0x010b800f, 0x010c2000, 0x01268019,
      0x0161802e, 0x01630800, 0x01632800, 0x01633000, 0x01634000, 0x01635000,
      0x01636000, 0x01639800, 0x0163b000, 0x01640800, 0x01641800, 0x01642800,
      0x01643800, 0x01644800, 0x01645800, 0x01646800, 0x01647800, 0x01648800,
      0x01649800, 0x0164a800, 0x0164b800, 0x0164c800, 0x0164d800, 0x0164e800,
      0x0164f800, 0x01650800, 0x01651800, 0x01652800, 0x01653800, 0x01654800,
      0x01655800, 0x01656800, 0x01657800, 0x01658800, 0x01659800, 0x0165a800,
      0x0165b800, 0x0165c800, 0x0165d800, 0x0165e800, 0x0165f800, 0x01660800,
      0x01661800, 0x01662800, 0x01663800, 0x01664800, 0x01665800, 0x01666800,
      0x01667800, 0x01668800, 0x01669800, 0x0166a800, 0x0166b800, 0x0166c800,
      0x0166d800, 0x0166e800, 0x0166f800, 0x01670800, 0x01671800, 0x01676000,
      0x01677000, 0x01679800, 0x01680025, 0x01693800, 0x01696800, 0x05320800,
      0x05321800, 0x05322800, 0x05323800, 0x05324800, 0x05325800, 0x05326800,
      0x05327800, 0x05328800, 0x05329800, 0x0532a800, 0x0532b800, 0x0532c800,
      0x0532d800, 0x0532e800, 0x0532f800, 0x05330800, 0x05331800, 0x05332800,
      0x05333800, 0x05334800, 0x05335800, 0x05336800, 0x05340800, 0x05341800,
      0x05342800, 0x05343800, 0x05344800, 0x05345800, 0x05346800, 0x05347800,
      0x05348800, 0x05349800, 0x0534a800, 0x0534b800, 0x0534c800, 0x0534d800,
      0x05391800, 0x05392800, 0x05393800, 0x05394800, 0x05395800, 0x05396800,
      0x05397800, 0x05399800, 0x0539a800, 0x0539b800, 0x0539c800, 0x0539d800,
      0x0539e800, 0x0539f800, 0x053a0800, 0x053a1800, 0x053a2800, 0x053a3800,
      0x053a4800, 0x053a5800, 0x053a6800, 0x053a7800, 0x053a8800, 0x053a9800,
      0x053aa800, 0x053ab800, 0x053ac800, 0x053ad800, 0x053ae800, 0x053af800,
      0x053b0800, 0x053b1800, 0x053b2800, 0x053b3800, 0x053b4800, 0x053b5800,
      0x053b6800, 0x053b7800, 0x053bd000, 0x053be000, 0x053bf800, 0x053c0800,
      0x053c1800, 0x053c2800, 0x053c3800, 0x053c6000, 0x053c8800, 0x053c9800,
      0x053cb800, 0x053cc800, 0x053cd800, 0x053ce800, 0x053cf800, 0x053d0800,
      0x053d1800, 0x053d2800, 0x053d3800, 0x053d4800, 0x053da800, 0x053db800,
      0x055a9800, 0x055b804f, 0x07fa0819, 0x08214027, 0x0826c023, 0x08660032,
      0x08c6001f, 0x0f491021,
  };
  static const int32_t deltas[] = {
      -32,   743,   -32,   -32,   121,    -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -1,     -1,    -1,    -1,    -232,
      -1,    -1,    -1,    -1,    -1,     -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -1,     -1,    -300,  195,   -1,
      -1,    -1,    -1,    -1,    97,     -1,     163,   130,   -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -1,     -1,    -1,    56,    -1,
      -2,    -1,    -2,    -1,    -2,     -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -79,   -1,     -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -2,     -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -1,     10815, -1,    -1,    -1,
      -1,    -1,    -1,    10783, 10780,  10782,  -210,  -206,  -205,  -202,
      -203,  42319, -205,  42315, -207,   42280,  42308, -209,  -211,  42308,
      10743, 42305, -211,  10749, -213,   -214,   10727, -218,  -218,  42282,
      -218,  -69,   -217,  -71,   -219,   42261,  42258, 84,    -1,    -1,
      -1,    130,   -38,   -37,   -32,    -31,    -32,   -64,   -63,   -62,
      -57,   -47,   -54,   -8,    -1,     -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -1,     -86,   -80,   7,     -116,
      -96,   -1,    -1,    -32,   -80,    -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -1,     -15,   -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -48,    -8,    -6254, -6253, -6244,
      -6242, -6243, -6236, -6181, 35266,  35332,  3814,  -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -59,   -1,    -1,     -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -1,     -1,    -1,    -1,    -1,
      -1,    8,     8,     8,     8,      8,      8,     8,     8,     8,
      8,     74,    86,    100,   128,    112,    126,   8,     8,     8,
      8,     9,     -7205, 9,     8,      8,      7,     9,     -28,   -16,
      -1,    -26,   -48,   -1,    -10795, -10792, -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -7264,  -7264,  -7264, -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -1,     -1,     -1,    -1,    -1,    -1,
      -1,    -1,    -1,    -1,    -928,   -38864, -32,   -40,   -40,   -64,
      -32,   -34,
  };
  static_assert(__arraycount(extents) == __arraycount(deltas),
                "Number of extents must match the number of deltas");
  return towctrans_extents(wc, extents, deltas, __arraycount(extents));
}
